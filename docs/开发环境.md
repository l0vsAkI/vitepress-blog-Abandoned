# window 前端开发环境配置

## 概述

围绕 Neovim 来配置前端开发环境, 通过少数的环境安装能获得最大的 vim 开发体验.
:::tip 说在前面
此为 windows 平台的 vim 操作模式开发专用配置
:::

## 为什么不使用 VS code 或 WebStorm ?

VS code 与 WebStorm 的开发体验并不流畅

### 关于 VS code

- 插件会拖慢编辑器的启动与响应速度
- 插件之间会相互阻塞导致 buffer 无响应
- 糟糕的 vim 操作

### 关于 WebStorm

- 启动耗时过长
- 操作有粘滞感

## 那一道墙

终端的请求不会经过操作系统配置的代理, 需要根据使用的不同命令行工具单独配置代理

**cmd**

```cmd
set http_proxy=http://127.0.0.1:1080
set https_proxy=http://127.0.0.1:1080
```

**PowerShell**

```PowerShell
$env:HTTP_PROXY="http://127.0.0.1:1080"
$env:HTTPS_PROXY="http://127.0.0.1:1080"
```

:::warning
上述操作为单次操作, 退出命令行工具后会清除代理配置
:::

**部分网址挂了代理依旧链接不上**

如`raw.githubusercontent.com`, 可在 hosts 中单独配置域名映射

```hosts
151.101.84.133  raw.githubusercontent.com
```

## 环境依赖

1. [**Neovim**](https://neovim.io/)

使用命令行工具安装已方便更新

```PowerShell
winget install Neovim.Neovim
```

2. [**MinGW**](https://www.mingw-w64.org/) - Neovim 的代码高亮插件依赖

> MinGW 的全称是：Minimalist GNU on Windows 。它实际上是将经典的开源 C 语言 编译器 GCC 移植到了 Windows 平台下，并且包含了 Win32API ，因此可以将源代码编译为可在 Windows 中运行的可执行程序。

3. [**nvm**](https://github.com/coreybutler/nvm-windows) - node 版本管理工具

4. [**im-select**](https://github.com/daipeihust/im-select) - vim 中英文输入切换工具

:::tip
在`/nvim/environment/`文件夹中有已下载好的安装程式
:::

## 开始配置

安装环境依赖中的**Neovim**, **MinGW**, **nvm**

:::details MinGW
MinGW 的安装配置需要手动设置
|Label |Value |
|---|---|
|Version|6.2.0(选择最新版本)|
|Architecture|x86_64|
|Threads|win32|
|Exception|seh|
|Build revision|1|

- 安装完成后将`{pathTo}/mingw64/bin/`路径添加到系统环境变量中

:::

### Step 1

在*C:\Users\{USER}\AppData\Local*路径下新建*nvim*文件夹

### Step 2

将[neovim-config](https://github.com/rovenssiren9417/neovim-config)仓库 clone 到 nvim 文件夹

### Step 3

1. 开启系统全局代理
2. 在终端中配置命令行代理
3. 进入 Neovim

```bash
nvim
```

### Step 4

等待包管理器与插件安装完毕

:::tip
如包管理器安装失败, 退出Neovim, 检查代理并重新进入
:::

:::tip
插件安装失败可退出并重进Neovim, 或在Lazy包管理器面板使用`I`重新安装插件
:::

:::warning
插件安装立刻失败, 请根据Lazy中的报错信息, 删除`{pathTo}/nvim-data/lazy/`中安装失败的插件文件夹和临时下载文件
:::
